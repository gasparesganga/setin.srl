########## Compress text files ##########
AddOutputFilterByType DEFLATE text/text text/html text/plain text/xml text/css application/javascript application/json


########## Rewrite & Redirects ##########
RewriteEngine On

### Remove trailing slashes
RewriteRule ^(.*)/$ /$1 [R=301,L]

### Redirect HTTPS to HTTP
RewriteCond %{HTTPS} on
RewriteRule .* http://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]

### Redirect non-www to www
RewriteCond %{HTTP_HOST} !^www\.
RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]


########## Invalid URLs ##########
ErrorDocument 403 /
ErrorDocument 404 /
